function createXHR(){var a;if(window.ActiveXObject){a=new ActiveXObject("Microsoft.XMLHTTP")}else{a=new XMLHttpRequest()}return a}function serialize(b){var c=[];for(var a in b){if(b.hasOwnProperty(a)){c.push(encodeURIComponent(a)+"="+encodeURIComponent(b[a]))}}return c.join("&")}function ajax(d){try{var a=createXHR();d.type=d.type==="POST"?"POST":d.type==="PUT"?"PUT":d.type==="DELETE"?"DELETE":"GET";var b=null;if(d.data!==undefined&&d.data!==null){b=serialize(d.data);if(d.type!=="POST"&&d.type!=="PUT"){d.url+="?"+b}}a.onreadystatechange=function(){if(this.readyState===4){if(this.status/100===2&&d.complete!==undefined&&d.complete!==null){try{d.complete({status:a.status,data:JSON.parse(a.responseText)})}catch(f){d.complete({status:a.status,data:a.responseText})}}else{if(d.error!==undefined&&d.error!==null){try{d.error({status:a.status,data:JSON.parse(a.responseText)})}catch(f){d.error({status:a.status,data:a.responseText})}}}}};a.open(d.type,d.url,true);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");if(d.type!=="POST"){a.send()}else{console.log(b);if(b!==null){a.send(b)}else{a.send()}}}catch(c){if(d.error!==undefined&&d.error!==null){d.error({status:-1,data:c})}}};